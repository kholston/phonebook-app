{"version":3,"sources":["services/persons.js","components/Header.js","components/PersonForm.js","components/Search.js","components/Person.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Header","text","PersonForm","addPerson","handleNameChange","handleNumberChange","name","number","onSubmit","onChange","value","type","Search","handleFilterChange","Person","person","handleDelete","onClick","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","personService","initalPersons","clearInput","createNotificationMessage","setTimeout","personsToShow","toLowerCase","includes","event","target","preventDefault","changedPerson","personObject","entryExists","find","window","confirm","returnedPerson","map","catch","error","p","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd74906e.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response=> response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  deletePerson,\n  update\n}\n\n","import React from 'react'\n\nconst Header = ({text}) =>{\n  return( <h2>{text}</h2> )\n}\n\nexport default Header","import React from 'react'\n\nconst PersonForm = ({addPerson, handleNameChange, handleNumberChange,name, number}) =>{\n  return(\n    <form onSubmit={addPerson}>\n        <div>\n          name: <input onChange={handleNameChange} value={name}/>\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} value={number} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\n\nconst Search = ({handleFilterChange, value}) => {\n return(\n  <div>\n    filter shown with <input onChange={handleFilterChange} value={value} />\n  </div>\n )\n}\n\nexport default Search","import React from 'react'\n\nconst Person = ({person, handleDelete}) => {\n  return(\n    <div>\n      {person.name} {person.number}\n      <button onClick={handleDelete}>delete</button>\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({type, message}) => {\n  if(message === null) {\n    return null\n  }\n\n  return(\n    <div className={type === 1 ? \"success\" : \"error\"}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Header from './components/Header'\nimport PersonForm from './components/PersonForm'\nimport Search from './components/Search'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationType, setNotificationType] = useState(0)\n\n  useEffect(()=>{\n    personService\n      .getAll()\n      .then(initalPersons =>{\n        setPersons(initalPersons)\n      })\n  },[])\n\n  const clearInput = () => {\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (personObject) => {\n    if(window.confirm(`Delete ${personObject.name} ?`)){\n      personService\n        .deletePerson(personObject.id)\n        .then(\n          setPersons(persons.filter(p => p.id !== personObject.id))\n        )\n    }\n  }\n\n  const updatePerson = (changedPerson) => {\n    personService\n      .update(changedPerson.id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n        const message = `${changedPerson.name} updated successfully!`\n        createNotificationMessage(1,message)\n        clearInput()\n      })\n      .catch(error => {\n        const message = `${changedPerson.name} was already deleted from the server`\n        createNotificationMessage(2,message)\n        setPersons(persons.filter(p => p.id !== changedPerson.id))\n        clearInput()\n      })\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {name: newName, number: newNumber}\n    const entryExists = persons.find(person => person.name === personObject.name)\n\n    if(entryExists){\n      if(window.confirm(`${personObject.name} is already in the phonebook. Do you want to update the entry?`)){\n        const person = {...entryExists, number: personObject.number}\n        updatePerson(person)\n      }\n    } else {\n      personService\n      .create(personObject)\n      .then(returnedPerson =>{\n        setPersons(persons.concat(returnedPerson))\n        const message = `${returnedPerson.name} created successfully!`\n        createNotificationMessage(1,message)\n        clearInput()\n      })\n      .catch(error => {\n        console.log(error.response.data);\n        const message = error.response.data.error;\n        createNotificationMessage(2, message);\n      })\n    }\n  } \n\n  const createNotificationMessage = (type, message) => {\n    setNotificationType(type)\n    setNotificationMessage(message)\n    setTimeout(()=>{\n      setNotificationType(0)\n      setNotificationMessage(null)\n    },5000)\n  }\n\n\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) =>{\n    setFilter(event.target.value)\n  }\n\n  const personsToShow =  filter === '' ? persons : \n    persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()) )\n    \n\n  return (\n    <div>\n      <Header text='Phonebook' />\n      <Notification message={notificationMessage} type={notificationType}/>\n      <Search handleFilterChange={handleFilterChange} value={filter}/>\n      <Header text='Add New'/>\n      <PersonForm addPerson={addPerson} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} name={newName} number={newNumber}/>\n      <Header text='Numbers'/>\n      {personsToShow.map(person => <Person key={person.name} person={person} handleDelete={() => deletePerson(person)}/>)}   \n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}